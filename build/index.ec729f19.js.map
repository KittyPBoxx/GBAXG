{"mappings":"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","sources":["dist/IodineGBA/core/sound/Channel3.js"],"sourcesContent":["\"use strict\";\n/*\n Copyright (C) 2012-2015 Grant Galitz\n \n Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n \n The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n \n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nfunction GameBoyAdvanceChannel3Synth(sound) {\n    this.sound = sound;\n    this.currentSampleLeft = 0;\n    this.currentSampleRight = 0;\n    this.lastSampleLookup = 0;\n    this.canPlay = false;\n    this.WAVERAMBankSpecified = 0;\n    this.WAVERAMBankAccessed = 0x20;\n    this.WaveRAMBankSize = 0x1F;\n    this.totalLength = 0x100;\n    this.patternType = 4;\n    this.frequency = 0;\n    this.FrequencyPeriod = 0x4000;\n    this.consecutive = true;\n    this.Enabled = 0;\n    this.leftEnable = 0;\n    this.rightEnable = 0;\n    this.nr30 = 0;\n    this.nr31 = 0;\n    this.nr32 = 0;\n    this.nr33 = 0;\n    this.nr34 = 0;\n    this.cachedSample = 0;\n    this.PCM = getInt8Array(0x40);\n    this.PCM16 = getUint16View(this.PCM);\n    this.PCM32 = getInt32View(this.PCM);\n    this.WAVERAM8 = getUint8Array(0x20);\n    this.WAVERAM16 = getUint16View(this.WAVERAM8);\n    this.WAVERAM32 = getInt32View(this.WAVERAM8);\n}\nGameBoyAdvanceChannel3Synth.prototype.disabled = function () {\n    //Clear NR30:\n    this.nr30 = 0;\n    this.lastSampleLookup = 0;\n    this.canPlay = false;\n    this.WAVERAMBankSpecified = 0;\n    this.WAVERAMBankAccessed = 0x20;\n    this.WaveRAMBankSize = 0x1F;\n    //Clear NR31:\n    this.totalLength = 0x100;\n    //Clear NR32:\n    this.nr32 = 0;\n    this.patternType = 4;\n    //Clear NR33:\n    this.nr33 = 0;\n    this.frequency = 0;\n    this.FrequencyPeriod = 0x4000;\n    //Clear NR34:\n    this.nr34 = 0;\n    this.consecutive = true;\n    this.Enabled = 0;\n    this.counter = 0;\n}\nif (typeof Math.imul == \"function\") {\n    //Math.imul found, insert the optimized path in:\n    GameBoyAdvanceChannel3Synth.prototype.updateCache = function () {\n        if ((this.patternType | 0) != 3) {\n            this.cachedSample = this.PCM[this.lastSampleLookup | 0] >> (this.patternType | 0);\n        }\n        else {\n            this.cachedSample = Math.imul(this.PCM[this.lastSampleLookup | 0] | 0, 3) >> 2;\n        }\n        this.outputLevelCache();\n    }\n}\nelse {\n    //Math.imul not found, use the compatibility method:\n    GameBoyAdvanceChannel3Synth.prototype.updateCache = function () {\n        if ((this.patternType | 0) != 3) {\n            this.cachedSample = this.PCM[this.lastSampleLookup | 0] >> (this.patternType | 0);\n        }\n        else {\n            this.cachedSample = (this.PCM[this.lastSampleLookup | 0] * 0.75) | 0;\n        }\n        this.outputLevelCache();\n    }\n}\nGameBoyAdvanceChannel3Synth.prototype.outputLevelCache = function () {\n    var cachedSample = this.cachedSample & this.Enabled;\n    this.currentSampleLeft = this.leftEnable & cachedSample;\n    this.currentSampleRight = this.rightEnable & cachedSample;\n}\nGameBoyAdvanceChannel3Synth.prototype.setChannelOutputEnable = function (data) {\n    data = data | 0;\n    //Set by NR51 handler:\n    this.rightEnable = (data << 29) >> 31;\n    this.leftEnable = (data << 25) >> 31;\n}\nGameBoyAdvanceChannel3Synth.prototype.readWAVE8 = function (address) {\n    address = ((address | 0) + (this.WAVERAMBankAccessed >> 1)) | 0;\n    return this.WAVERAM8[address | 0] | 0;\n}\nif (__LITTLE_ENDIAN__) {\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE8 = function (address, data) {\n        address = address | 0;\n        data = data | 0;\n        address = ((address | 0) + (this.WAVERAMBankAccessed >> 1)) | 0;\n        this.WAVERAM8[address | 0] = data & 0xFF;\n        var temp = ((data >> 4) & 0xF);\n        temp = temp | ((data & 0xF) << 8);\n        this.PCM16[address | 0] = temp | 0;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE16 = function (address, data) {\n        address = address | 0;\n        data = data | 0;\n        address = ((address | 0) + (this.WAVERAMBankAccessed >> 2)) | 0;\n        this.WAVERAM16[address | 0] = data & 0xFFFF;\n        var temp = ((data >> 4) & 0xF);\n        temp = temp | ((data & 0xF) << 8);\n        temp = temp | ((data & 0xF000) << 4);\n        temp = temp | ((data & 0xF00) << 16);\n        this.PCM32[address | 0] = temp | 0;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE32 = function (address, data) {\n        address = address | 0;\n        data = data | 0;\n        address = ((address | 0) + (this.WAVERAMBankAccessed >> 3)) | 0;\n        this.WAVERAM32[address | 0] = data | 0;\n        var temp = (data >> 4) & 0xF;\n        temp = temp | ((data & 0xF) << 8);\n        temp = temp | ((data & 0xF000) << 4);\n        temp = temp | ((data & 0xF00) << 16);\n        address = address << 1;\n        this.PCM32[address | 0] = temp | 0;\n        temp = (data >> 20) & 0xF;\n        temp = temp | ((data >> 8) & 0xF00);\n        temp = temp | ((data >> 12) & 0xF0000);\n        temp = temp | (data & 0xF000000);\n        this.PCM32[address | 1] = temp | 0;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.readWAVE16 = function (address) {\n        address = ((address | 0) + (this.WAVERAMBankAccessed >> 2)) | 0;\n        return this.WAVERAM16[address | 0] | 0;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.readWAVE32 = function (address) {\n        address = ((address | 0) + (this.WAVERAMBankAccessed >> 3)) | 0;\n        return this.WAVERAM32[address | 0] | 0;\n    }\n}\nelse {\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE8 = function (address, data) {\n        address += this.WAVERAMBankAccessed >> 1;\n        this.WAVERAM8[address] = data & 0xFF;\n        address <<= 1;\n        this.PCM[address] = (data >> 4) & 0xF;\n        this.PCM[address | 1] = data & 0xF;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE16 = function (address, data) {\n        address += this.WAVERAMBankAccessed >> 2;\n        address <<= 1;\n        this.WAVERAM8[address] = data & 0xFF;\n        this.WAVERAM8[address | 1] = (data >> 8) & 0xFF;\n        address <<= 1;\n        this.PCM[address] = (data >> 4) & 0xF;\n        this.PCM[address | 1] = data & 0xF;\n        this.PCM[address | 2] = (data >> 12) & 0xF;\n        this.PCM[address | 3] = (data >> 8) & 0xF;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.writeWAVE32 = function (address, data) {\n        address += this.WAVERAMBankAccessed >> 3;\n        address <<= 2;\n        this.WAVERAM8[address] = data & 0xFF;\n        this.WAVERAM8[address | 1] = (data >> 8) & 0xFF;\n        this.WAVERAM8[address | 2] = (data >> 16) & 0xFF;\n        this.WAVERAM8[address | 3] = data >>> 24;\n        address <<= 1;\n        this.PCM[address] = (data >> 4) & 0xF;\n        this.PCM[address | 1] = data & 0xF;\n        this.PCM[address | 2] = (data >> 12) & 0xF;\n        this.PCM[address | 3] = (data >> 8) & 0xF;\n        this.PCM[address | 4] = (data >> 20) & 0xF;\n        this.PCM[address | 5] = (data >> 16) & 0xF;\n        this.PCM[address | 6] = data >>> 28;\n        this.PCM[address | 7] = (data >> 24) & 0xF;\n    }\n    GameBoyAdvanceChannel3Synth.prototype.readWAVE16 = function (address) {\n        address += this.WAVERAMBankAccessed >> 1;\n        return (this.WAVERAM8[address] | (this.WAVERAM8[address | 1] << 8));\n    }\n    GameBoyAdvanceChannel3Synth.prototype.readWAVE32 = function (address) {\n        address += this.WAVERAMBankAccessed >> 1;\n        return (this.WAVERAM8[address] | (this.WAVERAM8[address | 1] << 8) |\n                (this.WAVERAM8[address | 2] << 16) | (this.WAVERAM8[address | 3] << 24));\n    }\n}\nGameBoyAdvanceChannel3Synth.prototype.enableCheck = function () {\n    if (/*this.canPlay && */(this.consecutive || (this.totalLength | 0) > 0)) {\n        this.Enabled = 0xF;\n    }\n    else {\n        this.Enabled = 0;\n    }\n}\nGameBoyAdvanceChannel3Synth.prototype.clockAudioLength = function () {\n    if ((this.totalLength | 0) > 1) {\n        this.totalLength = ((this.totalLength | 0) - 1) | 0;\n    }\n    else if ((this.totalLength | 0) == 1) {\n        this.totalLength = 0;\n        this.enableCheck();\n        this.sound.unsetNR52(0xFB);    //Channel #3 On Flag Off\n    }\n}\nGameBoyAdvanceChannel3Synth.prototype.computeAudioChannel = function () {\n    if ((this.counter | 0) == 0) {\n        if (this.canPlay) {\n            this.lastSampleLookup = (((this.lastSampleLookup | 0) + 1) & this.WaveRAMBankSize) | this.WAVERAMBankSpecified;\n        }\n        this.counter = this.FrequencyPeriod | 0;\n    }\n}\n\nGameBoyAdvanceChannel3Synth.prototype.readSOUND3CNT_L = function () {\n    //NR30:\n    return this.nr30 | 0;\n}\nGameBoyAdvanceChannel3Synth.prototype.writeSOUND3CNT_L = function (data) {\n    data = data | 0;\n    //NR30:\n    if (!this.canPlay && (data & 0x80) != 0) {\n        this.lastSampleLookup = 0;\n    }\n    this.canPlay = ((data & 0x80) != 0);\n    this.WaveRAMBankSize = (data & 0x20) | 0x1F;\n    this.WAVERAMBankSpecified = ((data & 0x40) >> 1) ^ (data & 0x20);\n    this.WAVERAMBankAccessed = ((data & 0x40) >> 1) ^ 0x20;\n    if (this.canPlay && (this.nr30 & 0x80) != 0 && !this.consecutive) {\n        this.sound.setNR52(0x4);\n    }\n    this.nr30 = data & 0xFF;\n}\nGameBoyAdvanceChannel3Synth.prototype.writeSOUND3CNT_H0 = function (data) {\n    data = data | 0;\n    //NR31:\n    this.totalLength = (0x100 - (data & 0xFF)) | 0;\n    this.enableCheck();\n}\nGameBoyAdvanceChannel3Synth.prototype.readSOUND3CNT_H = function () {\n    //NR32:\n    return this.nr32 | 0;\n}\nGameBoyAdvanceChannel3Synth.prototype.writeSOUND3CNT_H1 = function (data) {\n    data = data | 0;\n    //NR32:\n    data = data & 0xFF;\n    switch (data >> 5) {\n        case 0:\n            this.patternType = 4;\n            break;\n        case 1:\n            this.patternType = 0;\n            break;\n        case 2:\n            this.patternType = 1;\n            break;\n        case 3:\n            this.patternType = 2;\n            break;\n        default:\n            this.patternType = 3;\n    }\n    this.nr32 = data | 0;\n}\nGameBoyAdvanceChannel3Synth.prototype.writeSOUND3CNT_X0 = function (data) {\n    data = data | 0;\n    //NR33:\n    this.frequency = (this.frequency & 0x700) | (data & 0xFF);\n    this.FrequencyPeriod = (0x800 - (this.frequency | 0)) << 3;\n}\nGameBoyAdvanceChannel3Synth.prototype.readSOUND3CNT_X = function () {\n    //NR34:\n    return this.nr34 | 0;\n}\nGameBoyAdvanceChannel3Synth.prototype.writeSOUND3CNT_X1 = function (data) {\n    data = data | 0;\n    //NR34:\n    if ((data & 0x80) != 0) {\n        if ((this.totalLength | 0) == 0) {\n            this.totalLength = 0x100;\n        }\n        this.lastSampleLookup = 0;\n        if ((data & 0x40) != 0) {\n            this.sound.setNR52(0x4);\n        }\n    }\n    this.consecutive = ((data & 0x40) == 0x0);\n    this.frequency = ((data & 0x7) << 8) | (this.frequency & 0xFF);\n    this.FrequencyPeriod = (0x800 - (this.frequency | 0)) << 3;\n    this.enableCheck();\n    this.nr34 = data & 0xFF;\n}"],"names":["GameBoyAdvanceChannel3Synth","sound","this","currentSampleLeft","currentSampleRight","lastSampleLookup","canPlay","WAVERAMBankSpecified","WAVERAMBankAccessed","WaveRAMBankSize","totalLength","patternType","frequency","FrequencyPeriod","consecutive","Enabled","leftEnable","rightEnable","nr30","nr31","nr32","nr33","nr34","cachedSample","PCM","getInt8Array","PCM16","getUint16View","PCM32","getInt32View","WAVERAM8","getUint8Array","WAVERAM16","WAVERAM32","prototype","disabled","counter","Math","imul","updateCache","outputLevelCache","setChannelOutputEnable","data","readWAVE8","address","__LITTLE_ENDIAN__","writeWAVE8","temp","writeWAVE16","writeWAVE32","readWAVE16","readWAVE32","enableCheck","clockAudioLength","unsetNR52","computeAudioChannel","readSOUND3CNT_L","writeSOUND3CNT_L","setNR52","writeSOUND3CNT_H0","readSOUND3CNT_H","writeSOUND3CNT_H1","writeSOUND3CNT_X0","readSOUND3CNT_X","writeSOUND3CNT_X1"],"version":3,"file":"index.ec729f19.js.map"}