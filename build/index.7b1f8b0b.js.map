{"mappings":"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","sources":["dist/user_scripts/CommandExecution/ButtonCommands.js"],"sourcesContent":["/**\n * Requires:    - CommandExecutor.js\n */\n\n\n/* Register button commands for pressing and releasing */\n\nvar holdToMash = false;\nvar aMashInterval;\nvar bMashInterval;\n\nCommandExecutor.register(\"AKeyDown\"     , (args) => {\n  IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(0) : null               // A\n  if (holdToMash) {\n    aMashInterval = setInterval(() => { keyPress(0) }, 100);\n  }\n});\nCommandExecutor.register(\"AKeyUp\"       , (args) => { \n  IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (0) : menuInput(\"A\");\n  clearInterval(aMashInterval);\n});\n\nCommandExecutor.register(\"BKeyDown\"     , (args) => {\n  IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(1) : null   // B\n  if (holdToMash) {\n    bMashInterval = setInterval(() => { keyPress(1) }, 100);\n  }\n});             \n\nCommandExecutor.register(\"BKeyUp\"       , (args) => {\n  IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (1) : menuInput(\"B\");\n  clearInterval(bMashInterval);\n});\n\nCommandExecutor.register(\"SelectKeyDown\", args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(2) : null);               // Select\nCommandExecutor.register(\"SelectKeyUp\"  , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (2) : menuInput(\"SELECT\"));\nCommandExecutor.register(\"StartKeyDown\" , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(3) : null);               // Start\nCommandExecutor.register(\"StartKeyUp\"   , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (3) : menuInput(\"START\"));\nCommandExecutor.register(\"RightKeyDown\" , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(4) : null);               // Right\nCommandExecutor.register(\"RightKeyUp\"   , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (4) : menuInput(\"RIGHT\"));\nCommandExecutor.register(\"LeftKeyDown\"  , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(5) : null);               // Left\nCommandExecutor.register(\"LeftKeyUp\"    , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (5) : menuInput(\"LEFT\"));\nCommandExecutor.register(\"UpKeyDown\"    , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(6) : null);               // Up\nCommandExecutor.register(\"UpKeyUp\"      , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (6) : menuInput(\"UP\"));\nCommandExecutor.register(\"DownKeyDown\"  , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(7) : null);               // Down\nCommandExecutor.register(\"DownKeyUp\"    , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (7) : menuInput(\"DOWN\"));\nCommandExecutor.register(\"RKeyDown\"     , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(8) : null);               // R\nCommandExecutor.register(\"RKeyUp\"       , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (8) : menuInput(\"R\"));\nCommandExecutor.register(\"LKeyDown\"     , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyDown(9) : null);               // L\nCommandExecutor.register(\"LKeyUp\"       , args => IodineGUI.isPlaying ? IodineGUI.Iodine.keyUp  (9) : menuInput(\"L\"));\n\n\n/* Register Commands to simulate button tap */\n\nCommandExecutor.register(\"A\"     , args => IodineGUI.isPlaying ? keyPress(0) /* A      */ : menuInput(\"A\")); \nCommandExecutor.register(\"B\"     , args => IodineGUI.isPlaying ? keyPress(1) /* B      */ : menuInput(\"B\")); \nCommandExecutor.register(\"Select\", args => IodineGUI.isPlaying ? keyPress(2) /* Select */ : menuInput(\"SELECT\")); \nCommandExecutor.register(\"Start\" , args => IodineGUI.isPlaying ? keyPress(3) /* Start  */ : menuInput(\"START\")); \nCommandExecutor.register(\"Right\" , args => IodineGUI.isPlaying ? keyPress(4) /* Right  */ : menuInput(\"RIGHT\")); \nCommandExecutor.register(\"Left\"  , args => IodineGUI.isPlaying ? keyPress(5) /* Left   */ : menuInput(\"LEFT\")); \nCommandExecutor.register(\"Up\"    , args => IodineGUI.isPlaying ? keyPress(6) /* Up     */ : menuInput(\"UP\")); \nCommandExecutor.register(\"Down\"  , args => IodineGUI.isPlaying ? keyPress(7) /* Down   */ : menuInput(\"DOWN\")); \nCommandExecutor.register(\"R\"     , args => IodineGUI.isPlaying ? keyPress(8) /* R      */ : menuInput(\"R\")); \nCommandExecutor.register(\"L\"     , args => IodineGUI.isPlaying ? keyPress(9) /* L      */ : menuInput(\"L\")); \n\n/* Iodine functions */\nlet speedUpSpeed = 4;\nCommandExecutor.register(\"SpeedUp\", args => { \n  IodineGUI.Iodine.setSpeed(IodineGUI.Iodine.getSpeed() == 1 ? speedUpSpeed : 1);\n  document.getElementById(\"useSpeedup\").checked = IodineGUI.Iodine.getSpeed() != 1;\n  let isPlaying = IodineGUI.isPlaying;\n  IodineGUI.Iodine.pause();\n  IodineGUI.Iodine.play();\n  if (!isPlaying) {\n    IodineGUI.Iodine.pause();\n  }\n});\nCommandExecutor.register(\"BigSpeedUp\", args => IodineGUI.Iodine.setSpeed(IodineGUI.Iodine.getSpeed() == 1 ? 10 : 1));\nCommandExecutor.register(\"Restart\", args => restartFromLastSave());\nCommandExecutor.register(\"Start\", args => IodineGUI.Iodine.play());\nCommandExecutor.register(\"Stop\", args => IodineGUI.Iodine.stop());\n\n/* State functions */\nCommandExecutor.register(\"SaveSlot1\", args => {\n  let preview = IodineGUI.Iodine.saveStateManager.saveMultiState(\"MS1\").preview;\n  document.getElementById(\"saveState1Preiew\").src = preview;\n  M.toast({html: 'State Saved', displayLength:500});\n});\nCommandExecutor.register(\"LoadSlot1\", args => {\n  IodineGUI.Iodine.saveStateManager.loadMultiState(\"MS1\");\n});\n\nvar keyPress = async(k) => { IodineGUI.Iodine.keyDown(k); await delay(50); IodineGUI.Iodine.keyUp(k) }\nasync function delay(time) {\n    return new Promise(function (resolve) {\n      setTimeout(resolve, time);\n    });\n}\n\n/* Hack Functions */\nCommandExecutor.register(\"ToggleWarps\", args => {\n  randomWarpsEnabled = !randomWarpsEnabled;\n  document.getElementById(\"enableWarpsCheckbox\").checked = randomWarpsEnabled;\n});\n\nCommandExecutor.register(\"ToggleWalls\", args => {\n  walkThroughWalls = !walkThroughWalls;\n  document.getElementById(\"disableWalls\").checked = walkThroughWalls;\n});\n\nCommandExecutor.register(\"ToggleBike\", args => {\n  autoBike = !autoBike;\n  document.getElementById(\"autoBike\").checked = autoBike;\n  if (autoBike) {\n    forcePlayerState(MOVEMENT_MODE_BIKE);\n  } else {\n    forcePlayerState(MOVEMENT_MODE_WALK);\n  }\n});"],"names":["aMashInterval","bMashInterval","holdToMash","CommandExecutor","register","args","IodineGUI","isPlaying","Iodine","keyDown","setInterval","keyPress","keyUp","menuInput","clearInterval","speedUpSpeed","setSpeed","getSpeed","document","getElementById","checked","pause","play","restartFromLastSave","stop","preview","saveStateManager","saveMultiState","src","M","toast","html","displayLength","loadMultiState","async","k","delay","time","Promise","resolve","setTimeout","randomWarpsEnabled","walkThroughWalls","autoBike","forcePlayerState","MOVEMENT_MODE_BIKE","MOVEMENT_MODE_WALK"],"version":3,"file":"index.7b1f8b0b.js.map"}