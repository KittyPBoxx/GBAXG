"use strict";function registerGUIEvents(){addEvent("change",document.getElementById("fr_rom_load"),(e=>{fileLoadROM(e.target.files,"FR"),document.getElementById("FRAutoInit").checked?(document.getElementById("c_btn").classList.add("disabled"),document.getElementById("e_btn").classList.add("disabled"),document.getElementById("play").classList.add("disabled"),document.getElementById("fr-status").innerHTML="(Initialising...)",doSaveStateInit("FR")):(document.getElementById("play").classList.remove("disabled"),document.getElementById("fr-status").innerHTML="(Ready)")})),addEvent("change",document.getElementById("c_rom_load"),(e=>{fileLoadROM(e.target.files,"C"),document.getElementById("CAutoInit").checked?(document.getElementById("fr_btn").classList.add("disabled"),document.getElementById("e_btn").classList.add("disabled"),document.getElementById("play").classList.add("disabled"),document.getElementById("c-status").innerHTML="(Initialising...)",doSaveStateInit("C")):(document.getElementById("play").classList.remove("disabled"),document.getElementById("c-status").innerHTML="(Ready)")})),addEvent("change",document.getElementById("e_rom_load"),(e=>{fileLoadROM(e.target.files,"E"),document.getElementById("EAutoInit").checked?(document.getElementById("fr_btn").classList.add("disabled"),document.getElementById("c_btn").classList.add("disabled"),document.getElementById("play").classList.add("disabled"),document.getElementById("e-status").innerHTML="(Initialising...)",doSaveStateInit("E")):(document.getElementById("play").classList.remove("disabled"),document.getElementById("e-status").innerHTML="(Ready)")})),addEvent("change",document.getElementById("bios_load"),fileLoadBIOS),IodineGUI.Iodine.attachPlayStatusHandler(updatePlayButton),addEvent("click",document.getElementById("play"),(()=>{document.getElementById("emulator_target").style.visibility="visible",toggleMenu(),IodineGUI.Iodine.enableAudio(),IodineGUI.Iodine.audio.volume=.1,initAndStart()})),addEvent("click",document.getElementById("reset"),(()=>{toggleMenu(),IodineGUI.Iodine.NEXT_ROM=IodineGUI.Iodine.IOCore.cartridge.romCode,restartFromLastSave()})),addEvent("click",document.getElementById("eraseAll"),(()=>{localStorage.clear(),storageManager.delete("lastLoadedRom"),storageManager.delete("LATEST"),storageManager.delete("MS1"),storageManager.delete("MS2"),storageManager.delete("MS3"),document.getElementById("saveState1Preiew").src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",document.getElementById("saveState2Preiew").src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",document.getElementById("saveState3Preiew").src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",storageManager.delete("SSFR"),storageManager.delete("SSC"),storageManager.delete("SSE").then((()=>location.reload()),(()=>location.reload()))})),addEvent("click",document.getElementById("eraseKeybinds"),(()=>{storageManager.delete("keybinds").then((()=>location.reload()),(()=>location.reload()))})),addEvent("click",document.getElementById("toggleScreenButtons"),(()=>{!document.getElementById("overlayControls").getAttribute("hidden")?document.getElementById("overlayControls").setAttribute("hidden",!0):document.getElementById("overlayControls").removeAttribute("hidden")})),addEvent("click",document.getElementById("exportLastSave"),(()=>exportLastSaveData())),addEvent("change",document.getElementById("latest_save_load"),importLastSaveData),addEvent("click",document.getElementById("spring"),(()=>{document.querySelectorAll(".season").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getMonth=()=>4,document.getElementById("spring").classList.add("active")})),addEvent("click",document.getElementById("summer"),(()=>{document.querySelectorAll(".season").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getMonth=()=>7,document.getElementById("summer").classList.add("active")})),addEvent("click",document.getElementById("autumn"),(()=>{document.querySelectorAll(".season").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getMonth=()=>10,document.getElementById("autumn").classList.add("active")})),addEvent("click",document.getElementById("winter"),(()=>{document.querySelectorAll(".season").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getMonth=()=>1,document.getElementById("winter").classList.add("active")})),addEvent("click",document.getElementById("sunrise"),(()=>{document.querySelectorAll(".time").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getHour=()=>6,document.getElementById("sunrise").classList.add("active")})),addEvent("click",document.getElementById("day"),(()=>{document.querySelectorAll(".time").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getHour=()=>13,document.getElementById("day").classList.add("active")})),addEvent("click",document.getElementById("sunset"),(()=>{document.querySelectorAll(".time").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getHour=()=>18,document.getElementById("sunset").classList.add("active")})),addEvent("click",document.getElementById("night"),(()=>{document.querySelectorAll(".time").forEach((e=>e.classList.remove("active"))),GameBoyAdvanceRTC.prototype.getHour=()=>23,document.getElementById("night").classList.add("active")})),addEvent("click",document.getElementById("systemTimeCheckbox"),(()=>{const e=document.getElementById("systemTimeCheckbox").checked;GameBoyAdvanceRTC.prototype.useSystemTime=()=>e})),addEvent("click",document.getElementById("enableWarpsCheckbox"),(()=>{randomWarpsEnabled=document.getElementById("enableWarpsCheckbox").checked})),addEvent("click",document.getElementById("boostSwitch"),(()=>{if(document.getElementById("boostSwitch").checked){(async()=>{IodineGUI.Iodine.play(),IodineGUI.Iodine.enableBoostPerformance(),await delay(200),IodineGUI.Iodine.disableBoostPerformance(),IodineGUI.Iodine.setSpeed(1.1)})()}else IodineGUI.Iodine.enableBoostPerformance(),IodineGUI.Iodine.setSpeed(1),IodineGUI.Iodine.enableAudio(),IodineGUI.Iodine.boostPerformance=!1})),addEvent("click",document.getElementById("disableWalls"),(()=>{walkThroughWalls=document.getElementById("disableWalls").checked})),document.querySelectorAll(".speedup").forEach((e=>{addEvent("click",e,(()=>{document.querySelectorAll(".speedup").forEach((e=>e.classList.remove("active"))),speedUpSpeed=e.getAttribute("data-value"),e.classList.add("active"),IodineGUI.Iodine.setSpeed(1==IodineGUI.Iodine.getSpeed()?1:speedUpSpeed)}))})),addEvent("click",document.getElementById("current_manual"),(()=>{IodineGUI.Iodine.saveStateManager.loadMultiState("LATEST"),toggleMenu()})),addEvent("click",document.getElementById("current"),(()=>{loadedAndStarted=!1,initAndStart()})),addEvent("click",document.getElementById("exitFR"),(()=>{loadedAndStarted=!1,delayedSaveStateLoad("FR")})),addEvent("click",document.getElementById("exitC"),(()=>{loadedAndStarted=!1,delayedSaveStateLoad("C")})),addEvent("click",document.getElementById("exitE"),(()=>{loadedAndStarted=!1,delayedSaveStateLoad("E")})),addEvent("click",document.getElementById("saveState1Save"),(()=>{let e=IodineGUI.Iodine.saveStateManager.saveMultiState("MS1").preview;document.getElementById("saveState1Preiew").src=e})),addEvent("click",document.getElementById("saveState1Load"),(()=>{IodineGUI.Iodine.saveStateManager.loadMultiState("MS1"),toggleMenu()})),addEvent("click",document.getElementById("saveState2Save"),(()=>{let e=IodineGUI.Iodine.saveStateManager.saveMultiState("MS2").preview;document.getElementById("saveState2Preiew").src=e})),addEvent("click",document.getElementById("saveState2Load"),(()=>{IodineGUI.Iodine.saveStateManager.loadMultiState("MS2"),toggleMenu()})),addEvent("click",document.getElementById("saveState3Save"),(()=>{let e=IodineGUI.Iodine.saveStateManager.saveMultiState("MS3").preview;document.getElementById("saveState3Preiew").src=e})),addEvent("click",document.getElementById("saveState3Load"),(()=>{IodineGUI.Iodine.saveStateManager.loadMultiState("MS3"),toggleMenu()})),addEvent("click",document.getElementById("remapWarps"),(()=>{document.getElementById("remapWarps").innerHTML="<span>PROCESSING</span>";let e=document.getElementById("input_seed_text").value;setTimeout((()=>{mapWarps(e).then((()=>{M.toast({html:warpList.size+" warps were mapped",displayLength:1e3}),document.getElementById("remapWarps").innerHTML="<span>REMAP</span>"}))}),50)})),addEvent("click",document.getElementById("export_mapping"),(()=>exportMapping())),addEvent("change",document.getElementById("import_mapping"),importMapping),addEvent("click",document.getElementById("FRShown"),(()=>{let e=document.getElementById("fr-group");e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})),addEvent("click",document.getElementById("CShown"),(()=>{let e=document.getElementById("c-group");e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})),addEvent("click",document.getElementById("EShown"),(()=>{let e=document.getElementById("e-group");e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})),addEvent("click",document.getElementById("FRBoot"),(()=>{IodineGUI.NEXT_ROM="FR",document.querySelectorAll(".bootRadio").forEach((e=>e.removeAttribute("checked"))),document.getElementById("FRBoot").setAttribute("checked",!0)})),addEvent("click",document.getElementById("CBoot"),(()=>{IodineGUI.NEXT_ROM="C",document.querySelectorAll(".bootRadio").forEach((e=>e.removeAttribute("checked"))),document.getElementById("CBoot").setAttribute("checked",!0)})),addEvent("click",document.getElementById("EBoot"),(()=>{IodineGUI.NEXT_ROM="E",document.querySelectorAll(".bootRadio").forEach((e=>e.removeAttribute("checked"))),document.getElementById("EBoot").setAttribute("checked",!0)})),addEvent("click",document.getElementById("opts"),(()=>{let e=document.getElementById("opts-table");e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")})),addEvent("click",document.getElementById("addToBag"),(()=>{let e=document.getElementById("autocomplete-items").value,t=document.getElementById("item-quantity-input").value,n=ITEM_DATA[e],d=new BagStoreage;switch(d.readData(IodineGUI.Iodine.IOCore.cartridge.romCode),n.pocket){case"balls":d.ballItemPocket.set(n.number,t);break;case"item":d.itemPocket.set(n.number,t);break;case"berries":d.berryPocket.set(n.number,t);break;case"key":d.keyItemsPocket.set(n.number,t);break;case"tmhm":d.tmCase.set(n.number,t)}d.writeData(IodineGUI.Iodine.IOCore.cartridge.romCode)})),addEvent("click",document.getElementById("item-quantity-input-inc"),(()=>incNumeric("item-quantity-input"))),addEvent("click",document.getElementById("item-quantity-input-dec"),(()=>decNumeric("item-quantity-input"))),document.getElementById("item-quantity-input").addEventListener("input",(e=>{let t=e.target,n=t.value,d=Math.max(+n,t.getAttribute("min"));d=Math.min(+n,t.getAttribute("max")),t.setAttribute("value",d),t.value=d})),addEvent("click",document.getElementById("autoBike"),(()=>{autoBike=document.getElementById("autoBike").checked})),addEvent("click",document.getElementById("teleportAnywhere"),(()=>{teleportAnywhere=document.getElementById("teleportAnywhere").checked})),addEvent("click",document.getElementById("forceWalk"),(()=>forcePlayerState(MOVEMENT_MODE_WALK))),addEvent("click",document.getElementById("forceBike"),(()=>forcePlayerState(MOVEMENT_MODE_BIKE))),addEvent("click",document.getElementById("forceSurf"),(()=>forcePlayerState(MOVEMENT_MODE_SURF))),addEvent("click",document.getElementById("forceWhiteout"),(()=>whiteoutTeam())),addEvent("click",document.getElementById("bank-value-input-inc"),(()=>incNumeric("bank-value-input"))),addEvent("click",document.getElementById("bank-value-input-dec"),(()=>decNumeric("bank-value-input"))),addEvent("click",document.getElementById("map-value-input-inc"),(()=>incNumeric("map-value-input"))),addEvent("click",document.getElementById("map-value-input-dec"),(()=>decNumeric("map-value-input"))),addEvent("click",document.getElementById("warp-value-input-inc"),(()=>incNumeric("warp-value-input"))),addEvent("click",document.getElementById("warp-value-input-dec"),(()=>decNumeric("warp-value-input"))),addEvent("click",document.getElementById("overrideNextWarp"),(()=>{let e=document.getElementById("game-value-input").value,t=document.getElementById("bank-value-input").value,n=document.getElementById("map-value-input").value,d=document.getElementById("warp-value-input").value;forceNextWarp=e+","+t+","+n+","+d})),setupTouchControls(),addEvent("resize",window,resizeCanvasFunc),storageManager.find("RANDOM_MAPPING",(()=>{document.getElementById("input_seed_text").value="KITTY",mapWarps("KITTY")})).then((e=>{e&&updateWarpListData(e)})),resizeCanvasFunc()}function setupTouchControls(){addEvent("touchstart",document.getElementById("touch-up"),(()=>CommandExecutor.execute("UpKeyDown"))),addEvent("touchend",document.getElementById("touch-up"),(()=>CommandExecutor.execute("UpKeyUp"))),addEvent("touchstart",document.getElementById("touch-down"),(()=>CommandExecutor.execute("DownKeyDown"))),addEvent("touchend",document.getElementById("touch-down"),(()=>CommandExecutor.execute("DownKeyUp"))),addEvent("touchstart",document.getElementById("touch-left"),(()=>CommandExecutor.execute("LeftKeyDown"))),addEvent("touchend",document.getElementById("touch-left"),(()=>CommandExecutor.execute("LeftKeyUp"))),addEvent("touchstart",document.getElementById("touch-right"),(()=>CommandExecutor.execute("RightKeyDown"))),addEvent("touchend",document.getElementById("touch-right"),(()=>CommandExecutor.execute("RightKeyUp"))),addEvent("touchstart",document.getElementById("touch-start"),(()=>CommandExecutor.execute("StartKeyDown"))),addEvent("touchend",document.getElementById("touch-start"),(()=>CommandExecutor.execute("StartKeyUp"))),addEvent("touchstart",document.getElementById("touch-select"),(()=>CommandExecutor.execute("SelectKeyDown"))),addEvent("touchend",document.getElementById("touch-select"),(()=>CommandExecutor.execute("SelectKeyUp"))),addEvent("touchstart",document.getElementById("touch-menu"),(()=>CommandExecutor.execute("toggleMenu"))),addEvent("touchstart",document.getElementById("touch-a"),(()=>CommandExecutor.execute("AKeyDown"))),addEvent("touchend",document.getElementById("touch-a"),(()=>CommandExecutor.execute("AKeyUp"))),addEvent("touchstart",document.getElementById("touch-b"),(()=>CommandExecutor.execute("BKeyDown"))),addEvent("touchend",document.getElementById("touch-b"),(()=>CommandExecutor.execute("BKeyUp"))),addEvent("touchstart",document.getElementById("touch-b"),(()=>CommandExecutor.execute("BKeyDown"))),addEvent("touchend",document.getElementById("touch-b"),(()=>CommandExecutor.execute("BKeyUp")))}function registerDefaultSettings(){}function saveKeyBindings(){setValue("key_a",0|IodineGUI.defaults.keyZonesGBA[0]),setValue("key_b",0|IodineGUI.defaults.keyZonesGBA[1]),setValue("key_select",0|IodineGUI.defaults.keyZonesGBA[2]),setValue("key_start",0|IodineGUI.defaults.keyZonesGBA[3]),setValue("key_right",0|IodineGUI.defaults.keyZonesGBA[4]),setValue("key_left",0|IodineGUI.defaults.keyZonesGBA[5]),setValue("key_up",0|IodineGUI.defaults.keyZonesGBA[6]),setValue("key_down",0|IodineGUI.defaults.keyZonesGBA[7]),setValue("key_r",0|IodineGUI.defaults.keyZonesGBA[8]),setValue("key_l",0|IodineGUI.defaults.keyZonesGBA[9]),setValue("key_volumedown",0|IodineGUI.defaults.keyZonesControl[0]),setValue("key_volumeup",0|IodineGUI.defaults.keyZonesControl[1]),setValue("key_speedup",0|IodineGUI.defaults.keyZonesControl[2]),setValue("key_slowdown",0|IodineGUI.defaults.keyZonesControl[3]),setValue("key_speedreset",0|IodineGUI.defaults.keyZonesControl[4]),setValue("key_fullscreen",0|IodineGUI.defaults.keyZonesControl[5]),setValue("key_playpause",0|IodineGUI.defaults.keyZonesControl[6]),setValue("key_restart",0|IodineGUI.defaults.keyZonesControl[7])}function updatePlayButton(e){1==(0|(e|=0))?(IodineGUI.coreTimerID||startTimer(),IodineGUI.isPlaying=!0):(IodineGUI.coreTimerID&&(clearInterval(IodineGUI.coreTimerID),IodineGUI.coreTimerID=null),IodineGUI.isPlaying=!1)}function visibilityChangeHandle(){}function mozVisibilityChangeHandle(){}function msVisibilityChangeHandle(){}function webkitVisibilityChangeHandle(){}function processVisibilityChange(e){}function stepVolume(e){var t=document.getElementById("volume").value/100;t=Math.min(Math.max(t+e,0),1),IodineGUI.mixerInput.setVolume(t),document.getElementById("volume").value=Math.round(100*t)}function volChangeFunc(){var e=.01*Math.min(Math.max(parseInt(this.value),0),100);setValue("volume",+e),IodineGUI.mixerInput.setVolume(+e)}function speedChangeFunc(){var e=Math.min(Math.max(parseInt(this.value),0),100)/50;e*=e,IodineGUI.Iodine.setSpeed(+e)}function writeRedTemporaryText(e){}function clearTempString(){document.getElementById("tempMessage").style.display="none"}function resizeCanvasFunc(){var e=document.getElementById("main"),t=e.clientHeight||e.offsetHeight||0,n=e.clientWidth||e.offsetWidth||0;if(t>0&&n>0){var d=document.getElementById("emulator_target"),a=Math.floor(1.5*t),o=Math.floor(n/1.5),c=Math.min(o,t),l=Math.min(a,n);d.style.width=l+"px",d.style.height=c+"px"}}function rebuildSavesMenu(e){}function rebuildExistingSaves(){}function addExistingSaveItem(e,t){var n=document.createElement("li");n.className="nowrap";var d=document.createElement("span");d.textContent=decodeKeyType(t),n.appendChild(d);var a=document.createElement("ul"),o=document.createElement("li");o.className="nowrap",addEvent("click",o,(function(){deleteValue(t),rebuildExistingSaves()}));var c=document.createElement("span");c.textContent="Delete",o.appendChild(c),a.appendChild(o);var l=document.createElement("li");l.className="nowrap";var i=document.createElement("a");i.href="data:application/octet-stream;base64,"+base64(generateBlob(t,findValue(t))),i.download=t+"_"+(new Date).getTime()+".export",i.textContent="Download as import compatible",l.appendChild(i),a.appendChild(l);var u=document.createElement("li");u.className="nowrap";var m=document.createElement("a");m.href="data:application/octet-stream;base64,"+findValue(t),m.download=t+"_"+(new Date).getTime()+".sav",m.textContent="Download as raw binary",u.appendChild(m),a.appendChild(u),n.appendChild(a),e.appendChild(n)}function decodeKeyType(e){return"SAVE_TYPE_GUID_"==e.substring(0,15)?'Game "'+e.substring(15)+'" Type Code':"SAVE_GUID_"==e.substring(0,10)?'Game "'+e.substring(10)+'" Cartridge Data':"SAVE_RTC_GUID_"==e.substring(0,15)?'Game "'+e.substring(15)+'" RTC Data':e}function removeChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function didNotEnter(e,t){for(var n=void 0!==t.target?t.target:t.srcElement;n;){if(isSameNode(n,e))return!1;n=n.parentElement}return!0}function isSameNode(e,t){return"function"==typeof e.isSameNode?e.isSameNode(t):e===t}function addEvent(e,t,n){try{t.addEventListener(e,n,!1)}catch(d){t.attachEvent("on"+e,n)}}function removeEvent(e,t,n){try{t.removeEventListener(e,n,!1)}catch(d){t.detachEvent("on"+e,n)}}function incNumeric(e){let t=document.getElementById(e),n=t.getAttribute("max"),d=t.getAttribute("value"),a=Math.min(+d+1,n);t.setAttribute("value",a),t.value=a}function decNumeric(e){let t=document.getElementById(e),n=t.getAttribute("min"),d=t.getAttribute("value"),a=Math.max(+d-1,n);t.setAttribute("value",a),t.value=a}
//# sourceMappingURL=index.aab21884.js.map
