{"mappings":"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","sources":["dist/IodineGBA/core/graphics/AffineBG.js"],"sourcesContent":["\"use strict\";\n/*\n Copyright (C) 2012-2015 Grant Galitz\n \n Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n \n The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n \n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nfunction GameBoyAdvanceAffineBGRenderer(gfx, BGLayer) {\n    BGLayer = BGLayer | 0;\n    this.gfx = gfx;\n    this.BGLayer = BGLayer | 0;\n    this.offset = ((this.BGLayer << 8) + 0x100) | 0;\n}\nif (__VIEWS_SUPPORTED__) {\n    GameBoyAdvanceAffineBGRenderer.prototype.initialize = function () {\n        this.bg2MatrixRenderer = this.gfx.bg2MatrixRenderer;\n        this.bg3MatrixRenderer = this.gfx.bg3MatrixRenderer;\n        this.bg2FrameBufferRenderer = this.gfx.bg2FrameBufferRenderer;\n        this.scratchBuffer = getInt32ViewCustom(this.gfx.buffer, this.offset | 0, ((this.offset | 0) + 240) | 0);\n        this.BGdx = 0x100;\n        this.BGdmx = 0;\n        this.BGdy = 0;\n        this.BGdmy = 0x100;\n        this.BGReferenceX = 0;\n        this.BGReferenceY = 0;\n        this.pb = 0;\n        this.pd = 0;\n        this.doMosaic = 0;\n        this.priorityPreprocess(0);\n        this.offsetReferenceCounters();\n    }\n    if (typeof Math.imul == \"function\") {\n        //Math.imul found, insert the optimized path in:\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2M = function (line) {\n            line = line | 0;\n            var x = this.pb | 0;\n            var y = this.pd | 0;\n            if ((this.doMosaic | 0) != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line | 0) | 0;\n                x = ((x | 0) - Math.imul(this.BGdmx | 0, mosaicY | 0)) | 0;\n                y = ((y | 0) - Math.imul(this.BGdmy | 0, mosaicY | 0)) | 0;\n            }\n            for (var position = 0; (position | 0) < 240; position = ((position | 0) + 1) | 0, x = ((x | 0) + (this.BGdx | 0)) | 0, y = ((y | 0) + (this.BGdy | 0)) | 0) {\n                //Fetch pixel:\n                this.scratchBuffer[position | 0] = this.priorityFlag | this.bg2MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if ((this.doMosaic | 0) != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset | 0);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine3M = function (line) {\n            line = line | 0;\n            var x = this.pb | 0;\n            var y = this.pd | 0;\n            if ((this.doMosaic | 0) != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line | 0) | 0;\n                x = ((x | 0) - Math.imul(this.BGdmx | 0, mosaicY | 0)) | 0;\n                y = ((y | 0) - Math.imul(this.BGdmy | 0, mosaicY | 0)) | 0;\n            }\n            for (var position = 0; (position | 0) < 240; position = ((position | 0) + 1) | 0, x = ((x | 0) + (this.BGdx | 0)) | 0, y = ((y | 0) + (this.BGdy | 0)) | 0) {\n                //Fetch pixel:\n                this.scratchBuffer[position | 0] = this.priorityFlag | this.bg3MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if ((this.doMosaic | 0) != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset | 0);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2F = function (line) {\n            line = line | 0;\n            var x = this.pb | 0;\n            var y = this.pd | 0;\n            if ((this.doMosaic | 0) != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line | 0) | 0;\n                x = ((x | 0) - Math.imul(this.BGdmx | 0, mosaicY | 0)) | 0;\n                y = ((y | 0) - Math.imul(this.BGdmy | 0, mosaicY | 0)) | 0;\n            }\n            for (var position = 0; (position | 0) < 240; position = ((position | 0) + 1) | 0, x = ((x | 0) + (this.BGdx | 0)) | 0, y = ((y | 0) + (this.BGdy | 0)) | 0) {\n                //Fetch pixel:\n                this.scratchBuffer[position | 0] = this.priorityFlag | this.bg2FrameBufferRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if ((this.doMosaic | 0) != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset | 0);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.offsetReferenceCounters = function () {\n            var end = this.gfx.lastUnrenderedLine | 0;\n            this.pb = Math.imul(((this.pb | 0) + (this.BGdmx | 0)) | 0, end | 0) | 0;\n            this.pd = Math.imul(((this.pd | 0) + (this.BGdmy | 0)) | 0, end | 0) | 0;\n        }\n    }\n    else {\n        //Math.imul not found, use the compatibility method:\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2M = function (line) {\n            var x = this.pb;\n            var y = this.pd;\n            if (this.doMosaic != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n                x -= this.BGdmx * mosaicY;\n                y -= this.BGdmy * mosaicY;\n            }\n            for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n                //Fetch pixel:\n                this.scratchBuffer[position] = this.priorityFlag | this.bg2MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if (this.doMosaic != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine3M = function (line) {\n            var x = this.pb;\n            var y = this.pd;\n            if (this.doMosaic != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n                x -= this.BGdmx * mosaicY;\n                y -= this.BGdmy * mosaicY;\n            }\n            for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n                //Fetch pixel:\n                this.scratchBuffer[position] = this.priorityFlag | this.bg3MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if (this.doMosaic != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2F = function (line) {\n            var x = this.pb;\n            var y = this.pd;\n            if (this.doMosaic != 0) {\n                //Correct line number for mosaic:\n                var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n                x -= this.BGdmx * mosaicY;\n                y -= this.BGdmy * mosaicY;\n            }\n            for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n                //Fetch pixel:\n                this.scratchBuffer[position] = this.priorityFlag | this.bg2FrameBufferRenderer.fetchPixel(x >> 8, y >> 8);\n            }\n            if (this.doMosaic != 0) {\n                //Pixelize the line horizontally:\n                this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n            }\n        }\n        GameBoyAdvanceAffineBGRenderer.prototype.offsetReferenceCounters = function () {\n            var end = this.gfx.lastUnrenderedLine | 0;\n            this.pb = (((this.pb | 0) + (this.BGdmx | 0)) * (end | 0)) | 0;\n            this.pd = (((this.pd | 0) + (this.BGdmy | 0)) * (end | 0)) | 0;\n        }\n    }\n}\nelse {\n    GameBoyAdvanceAffineBGRenderer.prototype.initialize = function () {\n        this.bg2MatrixRenderer = this.gfx.bg2MatrixRenderer;\n        this.bg3MatrixRenderer = this.gfx.bg3MatrixRenderer;\n        this.bg2FrameBufferRenderer = this.gfx.bg2FrameBufferRenderer;\n        this.scratchBuffer = this.gfx.buffer;\n        this.BGdx = 0x100;\n        this.BGdmx = 0;\n        this.BGdy = 0;\n        this.BGdmy = 0x100;\n        this.BGReferenceX = 0;\n        this.BGReferenceY = 0;\n        this.pb = 0;\n        this.pd = 0;\n        this.doMosaic = 0;\n        this.priorityPreprocess(0);\n        this.offsetReferenceCounters();\n    }\n    GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2M = function (line) {\n        var x = this.pb;\n        var y = this.pd;\n        if (this.doMosaic != 0) {\n            //Correct line number for mosaic:\n            var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n            x -= this.BGdmx * mosaicY;\n            y -= this.BGdmy * mosaicY;\n        }\n        for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n            //Fetch pixel:\n            this.scratchBuffer[this.offset + position] = this.priorityFlag | this.bg2MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n        }\n        if (this.doMosaic != 0) {\n            //Pixelize the line horizontally:\n            this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n        }\n    }\n    GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine3M = function (line) {\n        var x = this.pb;\n        var y = this.pd;\n        if (this.doMosaic != 0) {\n            //Correct line number for mosaic:\n            var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n            x -= this.BGdmx * mosaicY;\n            y -= this.BGdmy * mosaicY;\n        }\n        for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n            //Fetch pixel:\n            this.scratchBuffer[this.offset + position] = this.priorityFlag | this.bg3MatrixRenderer.fetchPixel(x >> 8, y >> 8);\n        }\n        if (this.doMosaic != 0) {\n            //Pixelize the line horizontally:\n            this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n        }\n    }\n    GameBoyAdvanceAffineBGRenderer.prototype.renderScanLine2F = function (line) {\n        var x = this.pb;\n        var y = this.pd;\n        if (this.doMosaic != 0) {\n            //Correct line number for mosaic:\n            var mosaicY = this.gfx.mosaicRenderer.getMosaicYOffset(line);\n            x -= this.BGdmx * mosaicY;\n            y -= this.BGdmy * mosaicY;\n        }\n        for (var position = 0; position < 240; ++position, x += this.BGdx, y += this.BGdy) {\n            //Fetch pixel:\n            this.scratchBuffer[this.offset + position] = this.priorityFlag | this.bg2FrameBufferRenderer.fetchPixel(x >> 8, y >> 8);\n        }\n        if (this.doMosaic != 0) {\n            //Pixelize the line horizontally:\n            this.gfx.mosaicRenderer.renderMosaicHorizontal(this.offset);\n        }\n    }\n    GameBoyAdvanceAffineBGRenderer.prototype.offsetReferenceCounters = function () {\n        var end = this.gfx.lastUnrenderedLine | 0;\n        this.pb = (((this.pb | 0) + (this.BGdmx | 0)) * (end | 0)) | 0;\n        this.pd = (((this.pd | 0) + (this.BGdmy | 0)) * (end | 0)) | 0;\n    }\n}\nGameBoyAdvanceAffineBGRenderer.prototype.incrementReferenceCounters = function () {\n    this.pb = ((this.pb | 0) + (this.BGdmx | 0)) | 0;\n    this.pd = ((this.pd | 0) + (this.BGdmy | 0)) | 0;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.resetReferenceCounters = function () {\n    this.pb = this.BGReferenceX | 0;\n    this.pd = this.BGReferenceY | 0;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.setMosaicEnable = function (doMosaic) {\n    doMosaic = doMosaic | 0;\n    this.doMosaic = doMosaic | 0;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.priorityPreprocess = function (BGPriority) {\n    BGPriority = BGPriority | 0;\n    this.priorityFlag = (BGPriority << 23) | (1 << (this.BGLayer | 0x10));\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPA8_0 = function (data) {\n    data = data | 0;\n    this.BGdx = (this.BGdx & 0xFFFFFF00) | data;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPA8_1 = function (data) {\n    data = data | 0;\n    data = (data << 24) >> 16;\n    this.BGdx = data | (this.BGdx & 0xFF);\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPA16 = function (data) {\n    data = data | 0;\n    this.BGdx = (data << 16) >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPB8_0 = function (data) {\n    data = data | 0;\n    this.BGdmx = (this.BGdmx & 0xFFFFFF00) | data;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPB8_1 = function (data) {\n    data = data | 0;\n    data = (data << 24) >> 16;\n    this.BGdmx = data | (this.BGdmx & 0xFF);\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPB16 = function (data) {\n    data = data | 0;\n    this.BGdmx = (data << 16) >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPAB32 = function (data) {\n    data = data | 0;\n    this.BGdx = (data << 16) >> 16;\n    this.BGdmx = data >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPC8_0 = function (data) {\n    data = data | 0;\n    this.BGdy = (this.BGdy & 0xFFFFFF00) | data;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPC8_1 = function (data) {\n    data = data | 0;\n    data = (data << 24) >> 16;\n    this.BGdy = data | (this.BGdy & 0xFF);\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPC16 = function (data) {\n    data = data | 0;\n    this.BGdy = (data << 16) >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPD8_0 = function (data) {\n    data = data | 0;\n    this.BGdmy = (this.BGdmy & 0xFFFFFF00) | data;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPD8_1 = function (data) {\n    data = data | 0;\n    data = (data << 24) >> 16;\n    this.BGdmy = data | (this.BGdmy & 0xFF);\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPD16 = function (data) {\n    data = data | 0;\n    this.BGdmy = (data << 16) >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGPCD32 = function (data) {\n    data = data | 0;\n    this.BGdy = (data << 16) >> 16;\n    this.BGdmy = data >> 16;\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX8_0 = function (data) {\n    data = data | 0;\n    this.BGReferenceX = (this.BGReferenceX & 0xFFFFFF00) | data;\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX8_1 = function (data) {\n    data = data | 0;\n    this.BGReferenceX = (data << 8) | (this.BGReferenceX & 0xFFFF00FF);\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX8_2 = function (data) {\n    data = data | 0;\n    this.BGReferenceX = (data << 16) | (this.BGReferenceX & 0xFF00FFFF);\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX8_3 = function (data) {\n    data = data | 0;\n    data = (data << 28) >> 4;\n    this.BGReferenceX = data | (this.BGReferenceX & 0xFFFFFF);\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX16_0 = function (data) {\n    data = data | 0;\n    this.BGReferenceX = (this.BGReferenceX & 0xFFFF0000) | data;\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX16_1 = function (data) {\n    data = data | 0;\n    data = (data << 20) >> 4;\n    this.BGReferenceX = (this.BGReferenceX & 0xFFFF) | data;\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGX32 = function (data) {\n    data = data | 0;\n    this.BGReferenceX = (data << 4) >> 4;\n    //Writing to the x reference doesn't reset the counters during draw!\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY8_0 = function (data) {\n    data = data | 0;\n    this.BGReferenceY = (this.BGReferenceY & 0xFFFFFF00) | data;\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY8_1 = function (data) {\n    data = data | 0;\n    this.BGReferenceY = (data << 8) | (this.BGReferenceY & 0xFFFF00FF);\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY8_2 = function (data) {\n    data = data | 0;\n    this.BGReferenceY = (data << 16) | (this.BGReferenceY & 0xFF00FFFF);\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY8_3 = function (data) {\n    data = data | 0;\n    data = (data << 28) >> 4;\n    this.BGReferenceY = data | (this.BGReferenceY & 0xFFFFFF);\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY16_0 = function (data) {\n    data = data | 0;\n    this.BGReferenceY = (this.BGReferenceY & 0xFFFF0000) | data;\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY16_1 = function (data) {\n    data = data | 0;\n    data = (data << 20) >> 4;\n    this.BGReferenceY = (this.BGReferenceY & 0xFFFF) | data;\n    this.resetReferenceCounters();\n}\nGameBoyAdvanceAffineBGRenderer.prototype.writeBGY32 = function (data) {\n    data = data | 0;\n    this.BGReferenceY = (data << 4) >> 4;\n    this.resetReferenceCounters();\n}"],"names":["GameBoyAdvanceAffineBGRenderer","gfx","BGLayer","this","offset","__VIEWS_SUPPORTED__","prototype","initialize","bg2MatrixRenderer","bg3MatrixRenderer","bg2FrameBufferRenderer","scratchBuffer","getInt32ViewCustom","buffer","BGdx","BGdmx","BGdy","BGdmy","BGReferenceX","BGReferenceY","pb","pd","doMosaic","priorityPreprocess","offsetReferenceCounters","Math","imul","renderScanLine2M","line","x","y","mosaicY","mosaicRenderer","getMosaicYOffset","position","priorityFlag","fetchPixel","renderMosaicHorizontal","renderScanLine3M","renderScanLine2F","end","lastUnrenderedLine","incrementReferenceCounters","resetReferenceCounters","setMosaicEnable","BGPriority","writeBGPA8_0","data","writeBGPA8_1","writeBGPA16","writeBGPB8_0","writeBGPB8_1","writeBGPB16","writeBGPAB32","writeBGPC8_0","writeBGPC8_1","writeBGPC16","writeBGPD8_0","writeBGPD8_1","writeBGPD16","writeBGPCD32","writeBGX8_0","writeBGX8_1","writeBGX8_2","writeBGX8_3","writeBGX16_0","writeBGX16_1","writeBGX32","writeBGY8_0","writeBGY8_1","writeBGY8_2","writeBGY8_3","writeBGY16_0","writeBGY16_1","writeBGY32"],"version":3,"file":"build-index.8cc41963.js.map"}