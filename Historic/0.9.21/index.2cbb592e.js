"use strict";function GameBoyAdvanceIRQ(e){this.IOCore=e}GameBoyAdvanceIRQ.prototype.initialize=function(){this.interruptsEnabled=0,this.interruptsRequested=0,this.IME=0,this.gfxState=this.IOCore.gfxState,this.timer=this.IOCore.timer,this.dmaChannel0=this.IOCore.dmaChannel0,this.dmaChannel1=this.IOCore.dmaChannel1,this.dmaChannel2=this.IOCore.dmaChannel2,this.dmaChannel3=this.IOCore.dmaChannel3},GameBoyAdvanceIRQ.prototype.IRQMatch=function(){return this.interruptsEnabled&this.interruptsRequested},GameBoyAdvanceIRQ.prototype.checkForIRQFire=function(){this.IOCore.cpu.triggerIRQ(this.interruptsEnabled&this.interruptsRequested&this.IME)},GameBoyAdvanceIRQ.prototype.requestIRQ=function(e){e|=0,this.interruptsRequested=this.interruptsRequested|e,this.checkForIRQFire()},GameBoyAdvanceIRQ.prototype.writeIME=function(e){e|=0,this.IOCore.updateCoreClocking(),this.IME=e<<31>>31,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIE8_0=function(e){e|=0,this.IOCore.updateCoreClocking(),e&=255,e|=16128&this.interruptsEnabled,this.interruptsEnabled=0|e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIE8_1=function(e){e|=0,this.IOCore.updateCoreClocking(),e=(63&e)<<8,e|=255&this.interruptsEnabled,this.interruptsEnabled=0|e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIE16=function(e){e|=0,this.IOCore.updateCoreClocking(),this.interruptsEnabled=16383&e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIF8_0=function(e){e|=0,this.IOCore.updateCoreClocking(),e=~(255&e),this.interruptsRequested=this.interruptsRequested&e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIF8_1=function(e){e|=0,this.IOCore.updateCoreClocking(),e=~((255&e)<<8),this.interruptsRequested=this.interruptsRequested&e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIF16=function(e){e|=0,this.IOCore.updateCoreClocking(),e=~e,this.interruptsRequested=this.interruptsRequested&e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.writeIRQ32=function(e){e|=0,this.IOCore.updateCoreClocking(),this.interruptsEnabled=16383&e,e=~(e>>16),this.interruptsRequested=this.interruptsRequested&e,this.checkForIRQFire(),this.IOCore.updateCoreEventTime()},GameBoyAdvanceIRQ.prototype.readIME=function(){return 0|1&this.IME},GameBoyAdvanceIRQ.prototype.readIE8_0=function(){return 0|255&this.interruptsEnabled},GameBoyAdvanceIRQ.prototype.readIE8_1=function(){return 0|this.interruptsEnabled>>8},GameBoyAdvanceIRQ.prototype.readIE16=function(){return 0|(0|this.interruptsEnabled)},GameBoyAdvanceIRQ.prototype.readIF8_0=function(){return this.IOCore.updateCoreSpillRetain(),0|255&this.interruptsRequested},GameBoyAdvanceIRQ.prototype.readIF8_1=function(){return this.IOCore.updateCoreSpillRetain(),0|this.interruptsRequested>>8},GameBoyAdvanceIRQ.prototype.readIF16=function(){return this.IOCore.updateCoreSpillRetain(),0|(0|this.interruptsRequested)},GameBoyAdvanceIRQ.prototype.readIRQ32=function(){return this.IOCore.updateCoreSpillRetain(),0|(this.interruptsRequested<<16|this.interruptsEnabled)},GameBoyAdvanceIRQ.prototype.nextEventTime=function(){var e=2147483647;return 0!=(1&this.interruptsEnabled)&&(e=0|this.gfxState.nextVBlankIRQEventTime()),0!=(2&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.gfxState.nextHBlankIRQEventTime())),0!=(4&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.gfxState.nextVCounterIRQEventTime())),0!=(8&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.timer.nextTimer0IRQEventTime())),0!=(16&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.timer.nextTimer1IRQEventTime())),0!=(32&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.timer.nextTimer2IRQEventTime())),0!=(64&this.interruptsEnabled)&&(e=0|Math.min(0|e,0|this.timer.nextTimer3IRQEventTime())),0|e},GameBoyAdvanceIRQ.prototype.nextIRQEventTime=function(){var e=2147483647;return 0!=(0|this.IME)&&(e=0|this.nextEventTime()),0|e};
//# sourceMappingURL=index.2cbb592e.js.map
