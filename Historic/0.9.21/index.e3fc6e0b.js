"use strict";var IodineGUI={Iodine:null,Blitter:null,coreTimerID:null,GUITimerID:null,toMap:null,toMapIndice:0,suspended:!1,isPlaying:!1,startTime:+(new Date).getTime(),mixerInput:null,currentSpeed:[!1,0],defaults:{timerRate:8,sound:!0,volume:1,skipBoot:!0,toggleSmoothScaling:!1,toggleDynamicSpeed:!1,toggleOffthreadGraphics:!0,toggleOffthreadCPU:-1==navigator.userAgent.indexOf("AppleWebKit")||-1!=navigator.userAgent.indexOf("Windows NT 10.0")&&-1==navigator.userAgent.indexOf("Trident"),keyZonesGBA:[88,90,16,13,39,37,38,40,83,65],keyZonesControl:[55,56,52,51,53,54,80,82]}};function registerIodineHandler(){try{if("function"!=typeof SharedArrayBuffer||"object"!=typeof Atomics)throw null;if(!IodineGUI.defaults.toggleOffthreadCPU&&IodineGUI.defaults.toggleOffthreadGraphics)IodineGUI.Iodine=new IodineGBAWorkerGfxShim;else{if(!IodineGUI.defaults.toggleOffthreadGraphics)throw null;IodineGUI.Iodine=new IodineGBAWorkerShim,addEvent("beforeunload",window,registerBeforeUnloadHandler)}}catch(e){IodineGUI.Iodine=new GameBoyAdvanceEmulator}}function registerBeforeUnloadHandler(e){return IodineGUI.Iodine.pause(),e.preventDefault&&e.preventDefault(),"IodineGBA needs to process your save data, leaving now may result in not saving current data."}function initTimer(){IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate),IodineGUI.coreTimerID=setInterval((function(){IodineGUI.Iodine.timerCallback(+(new Date).getTime()-+IodineGUI.startTime>>>0)}),0|IodineGUI.defaults.timerRate)}function calculateTiming(){IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate)}function startTimer(){IodineGUI.coreTimerID=setInterval((function(){IodineGUI.Iodine.timerCallback(+(new Date).getTime()-+IodineGUI.startTime>>>0)}),0|IodineGUI.defaults.timerRate)}function updateTimer(e){(0|(e|=0))!=(0|IodineGUI.defaults.timerRate)&&(IodineGUI.defaults.timerRate=0|e,IodineGUI.Iodine.setIntervalRate(+IodineGUI.defaults.timerRate),IodineGUI.isPlaying&&(IodineGUI.coreTimerID&&clearInterval(IodineGUI.coreTimerID),initTimer()))}function registerBlitterHandler(){IodineGUI.Blitter=new GfxGlueCode(240,160),IodineGUI.Blitter.attachCanvas(document.getElementById("emulator_target")),IodineGUI.Iodine.attachGraphicsFrameHandler(IodineGUI.Blitter)}function registerAudioHandler(){var e=new GlueCodeMixer(document.getElementById("play"));IodineGUI.mixerInput=new GlueCodeMixerInput(e),IodineGUI.Iodine.attachAudioHandler(IodineGUI.mixerInput)}window.onload=function(){registerDefaultSettings(),registerIodineHandler(),calculateTiming(),registerBlitterHandler(),registerAudioHandler(),registerSaveHandlers(),registerGUIEvents()};
//# sourceMappingURL=index.e3fc6e0b.js.map
