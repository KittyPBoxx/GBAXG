"use strict";function GameBoyAdvanceSaves(e){this.cartridge=e.cartridge}GameBoyAdvanceSaves.prototype.initialize=function(){this.saveType=0,this.GPIOChip=new GameBoyAdvanceGPIOChip,this.UNDETERMINED=new GameBoyAdvanceSaveDeterminer(this),this.SRAMChip=new GameBoyAdvanceSRAMChip,this.FLASHChip=new GameBoyAdvanceFLASHChip(this.cartridge.getFlash_is128(),this.cartridge.getFlash_isAtmel()),this.EEPROMChip=new GameBoyAdvanceEEPROMChip(this.cartridge.IOCore),this.currentChip=this.UNDETERMINED,this.referenceSave(this.saveType)},GameBoyAdvanceSaves.prototype.referenceSave=function(e){switch(0|(e|=0)){case 0:this.currentChip=this.UNDETERMINED;break;case 1:this.currentChip=this.SRAMChip;break;case 2:this.currentChip=this.FLASHChip;break;case 3:this.currentChip=this.EEPROMChip}this.currentChip.initialize(),this.saveType=0|e},GameBoyAdvanceSaves.prototype.importSave=function(e,t){t|=0,this.UNDETERMINED.load(e),this.SRAMChip.load(e),this.FLASHChip.load(e),this.EEPROMChip.load(e),this.referenceSave(0|t)},GameBoyAdvanceSaves.prototype.importRTC=function(e){this.GPIOChip.loadRTC(e)},GameBoyAdvanceSaves.prototype.importGPIOType=function(e){e|=0,this.GPIOChip.loadType(0|e)},GameBoyAdvanceSaves.prototype.exportSave=function(){return this.currentChip.saves},GameBoyAdvanceSaves.prototype.exportSaveType=function(){return 0|this.saveType},GameBoyAdvanceSaves.prototype.readGPIO8=function(e){e|=0;return 0|((0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsRead8(e)?0|this.GPIOChip.read8(0|e):0|this.cartridge.readROMOnly8(0|e))},GameBoyAdvanceSaves.prototype.readEEPROM8=function(e){e|=0;return 0|(3==(0|this.saveType)?0|this.EEPROMChip.read8():0|this.UNDETERMINED.readEEPROM8(0|e))},GameBoyAdvanceSaves.prototype.readGPIO16=function(e){e|=0;return 0|((0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsRead16(e)?0|this.GPIOChip.read16(0|e):0|this.cartridge.readROMOnly16(0|e))},GameBoyAdvanceSaves.prototype.readEEPROM16=function(e){e|=0;return 0|(3==(0|this.saveType)?0|this.EEPROMChip.read16():0|this.UNDETERMINED.readEEPROM16(0|e))},GameBoyAdvanceSaves.prototype.readGPIO32=function(e){e|=0;return 0|((0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsRead32(e)?0|this.GPIOChip.read32(0|e):0|this.cartridge.readROMOnly32(0|e))},GameBoyAdvanceSaves.prototype.readEEPROM32=function(e){e|=0;return 0|(3==(0|this.saveType)?0|this.EEPROMChip.read32():0|this.UNDETERMINED.readEEPROM32(0|e))},GameBoyAdvanceSaves.prototype.readSRAM=function(e){e|=0;var t=0;switch(0|this.saveType){case 0:t=0|this.UNDETERMINED.readSRAM(0|e);break;case 1:t=0|this.SRAMChip.read(0|e);break;case 2:t=0|this.FLASHChip.read(0|e)}return 0|t},GameBoyAdvanceSaves.prototype.writeGPIO8=function(e,t){e|=0,t|=0,(0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsWrite8(e)?this.GPIOChip.write8(0|e,0|t):this.UNDETERMINED.writeGPIO8(0|e,0|t)},GameBoyAdvanceSaves.prototype.writeGPIO16=function(e,t){e|=0,t|=0,(0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsWrite16(e)?this.GPIOChip.write16(0|e,0|t):this.UNDETERMINED.writeGPIO16(0|e,0|t)},GameBoyAdvanceSaves.prototype.writeEEPROM16=function(e,t){e|=0,t|=0,3==(0|this.saveType)?this.EEPROMChip.write16(0|t):this.UNDETERMINED.writeEEPROM16(0|e,0|t)},GameBoyAdvanceSaves.prototype.writeGPIO32=function(e,t){e|=0,t|=0,(0|this.GPIOChip.getType())>0&&this.GPIOChip.supportsWrite32(e)?this.GPIOChip.write32(0|e,0|t):this.UNDETERMINED.writeGPIO32(0|e,0|t)},GameBoyAdvanceSaves.prototype.writeSRAM=function(e,t){switch(e|=0,t|=0,this.saveIntercept(e,t),0|this.saveType){case 0:this.UNDETERMINED.writeSRAM(0|e,0|t);break;case 1:this.SRAMChip.write(0|e,0|t);break;case 2:this.FLASHChip.write(0|e,0|t)}},GameBoyAdvanceSaves.prototype.writeSRAMIfDefined=function(e,t){switch(e|=0,t|=0,0|this.saveType){case 0:this.SRAMChip.initialize();case 1:this.SRAMChip.write(0|e,0|t);break;case 2:this.FLASHChip.write(0|e,0|t)}},GameBoyAdvanceSaves.prototype.saveIntercept=function(e,t){};
//# sourceMappingURL=index.cb89d4d2.js.map
