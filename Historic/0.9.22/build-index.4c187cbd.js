"use strict";function GameBoyAdvanceDMA(t){this.IOCore=t}GameBoyAdvanceDMA.prototype.initialize=function(){this.dmaChannel0=this.IOCore.dmaChannel0,this.dmaChannel1=this.IOCore.dmaChannel1,this.dmaChannel2=this.IOCore.dmaChannel2,this.dmaChannel3=this.IOCore.dmaChannel3,this.currentMatch=-1,this.fetch=0},GameBoyAdvanceDMA.prototype.getCurrentFetchValue=function(){return 0|this.fetch},GameBoyAdvanceDMA.prototype.gfxHBlankRequest=function(){this.requestDMA(4)},GameBoyAdvanceDMA.prototype.gfxVBlankRequest=function(){this.requestDMA(2)},GameBoyAdvanceDMA.prototype.requestDMA=function(t){t|=0,this.dmaChannel0.requestDMA(0|t),this.dmaChannel1.requestDMA(0|t),this.dmaChannel2.requestDMA(0|t),this.dmaChannel3.requestDMA(0|t)},GameBoyAdvanceDMA.prototype.findLowestDMA=function(){return 0!=(0|this.dmaChannel0.getMatchStatus())?0:0!=(0|this.dmaChannel1.getMatchStatus())?1:0!=(0|this.dmaChannel2.getMatchStatus())?2:0!=(0|this.dmaChannel3.getMatchStatus())?3:4},GameBoyAdvanceDMA.prototype.update=function(){var t=this.findLowestDMA();(0|t)<4?(-1==(0|this.currentMatch)&&this.IOCore.flagDMA(),(0|this.currentMatch)!=(0|t)&&(this.IOCore.wait.NonSequentialBroadcast(),this.currentMatch=0|t)):-1!=(0|this.currentMatch)&&(this.currentMatch=-1,this.IOCore.deflagDMA(),this.IOCore.updateCoreSpill())},GameBoyAdvanceDMA.prototype.perform=function(){switch(0|this.currentMatch){case 0:this.dmaChannel0.handleDMACopy();break;case 1:this.dmaChannel1.handleDMACopy();break;case 2:this.dmaChannel2.handleDMACopy();break;default:this.dmaChannel3.handleDMACopy()}},GameBoyAdvanceDMA.prototype.updateFetch=function(t){t|=0,this.fetch=0|t},GameBoyAdvanceDMA.prototype.nextEventTime=function(){return 0|(0|Math.min(0|this.dmaChannel0.nextEventTime(),0|this.dmaChannel1.nextEventTime(),0|this.dmaChannel2.nextEventTime(),0|this.dmaChannel3.nextEventTime()))};
//# sourceMappingURL=build-index.4c187cbd.js.map
